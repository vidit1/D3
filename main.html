<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>

    </style>

    <link href="d3.css" type="text/css" rel="stylesheet" >
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tipsy/1.0.3/jquery.tipsy.min.css" rel="stylesheet"
          type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tipsy/1.0.3/jquery.tipsy.min.js"></script>
    <script src="hammer.js"></script>
    <script src="bower_components/moment/min/moment.min.js"></script>
    <script src="d3.js"></script>
    <script src="d3Chart.js"></script>
    <script src="chartTypes/multiple.js"></script>
    <script src="chartTypes/test.js"></script>

</head>
<body>
<div id="test1"></div>
<div id="test5"></div>
<div id="test2"></div>
<div id="test3"></div>
<div id="test4"></div>
<div id="test6"></div>
<script>
    var parseDate = d3.time.format("%Y%m%d").parse;
    d3.tsv("data/data-1.csv", function (error, data) {
        data.forEach(function (d) {
            d.date = parseDate(d.date);
        });
        var rawDataaaa = JSON.parse(JSON.stringify(data));
        var colora = d3.scale.category10();

        colora.domain(d3.keys(data[0]).filter(function (key) {
            return key !== "date";
        }));
        data = colora.domain().map(function (name) {
            return {
                label: name,
                data: data.map(function (d) {
                    return {date: d.date, y: +d[name]};
                })

            };
        });

        console.log(data);
        var obj1={
            series:data,
            divId:"#test1",
            title:{text:"Test Graph"},
            chart:{type:'line'},
            xAxis:{
                title:{text:"Date"}
            },
            yAxis:{
                title:{text:"Number"}
            },
            tooltip:{
                formatter:function(data,legends){
                    return '<h3>' + moment(data[0].date).format("YYYY-MM-DD") + '</h3>'
                }
            },
            export:{
                onClick : function () {

                }
            }
        };
        var obj2={
            series:data,
            divId:"#test2",
            title:{text:"Test Graph"},
            chart:{type:'area'},
            xAxis:{
                title:{text:"Date"}
            },
            yAxis:{
                title:{text:"Number"}
            },
            tooltip:{
                formatter:function(data,legends){
                    return '<h3>' + moment(data[0].date).format("YYYY-MM-DD") + '</h3>'
                }
            },
            export:{
                onClick : function () {

                }
            }
        };
        var obj3={
            series:data,
            divId:"#test3",
            title:{text:"Test Graph"},
            chart:{type:'column'},
            xAxis:{
                title:{text:"Date"}
            },
            yAxis:{
                title:{text:"Number"}
            },
            tooltip:{
                formatter:function(data,legends){
                    return '<h3>' + moment(data[0].date).format("YYYY-MM-DD") + '</h3>'
                }
            },
            export:{
                onClick : function () {

                }
            }
        };
        var obj4={
            series:data,
            divId:"#test4",
            title:{text:"Test Graph"},
            chart:{type:'scattered'},
            xAxis:{
                title:{text:"Date"}
            },
            yAxis:{
                title:{text:"Number"}
            },
            tooltip:{
                formatter:function(data,legends){
                    return '<h3>' + moment(data[0].date).format("YYYY-MM-DD") + '</h3>'
                }
            },
            export:{
                onClick : function () {

                }
            }
        };
        var obj5={
            series:data,
            divId:"#test5",
            title:{text:"Test Graph"},
            chart:{type:'line  '},
            xAxis:{
                title:{text:"Date"}
            },
            yAxis:{
                title:{text:"Number"}
            },
            tooltip:{
                formatter:function(data,legends){
                    return '<h3>' + moment(data[0].date).format("YYYY-MM-DD") + '</h3>'
                }
            },
            export:{
                onClick : function () {

                }
            }
        };
        var chart1 = D3Line(obj1);
        var chart2 = D3Stacked(obj2);
        })
</script>
</body>
</html>